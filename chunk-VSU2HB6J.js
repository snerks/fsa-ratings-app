import{Q as i,V as a,ha as n,jc as o}from"./chunk-IQ7A5KLV.js";var l=class s{httpClient=a(o);baseUrl="https://api.ratings.food.gov.uk/";headersOptions={headers:{"x-api-version":"2"}};lastQuery=n({name:"",postcode:""});lastResults=n(null);searchEstablishments(e,t){this.lastQuery.set({name:e,postcode:t});let g=[`name=${encodeURIComponent(e)}`,`address=${encodeURIComponent(t)}`,"sortOptionKey=Rating","ratingKeyName=RatingValue","ratingOperator=eq","pageSize=100"].join("&"),r=this.httpClient.get(`${this.baseUrl}Establishments?${g}`,this.headersOptions);return r.subscribe(m=>this.lastResults.set(m)),r}getEstablishment(e){return this.httpClient.get(`${this.baseUrl}Establishments/${e}`,this.headersOptions)}static \u0275fac=function(t){return new(t||s)};static \u0275prov=i({token:s,factory:s.\u0275fac,providedIn:"root"})};export{l as a};
